name: AI Review
on: [pull_request]
jobs:
  review:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - run: |
          echo "ðŸ¤– Analizando src/example.js..."
          echo "### Bugs detectados:
          - divide(): no valida b=0
          - discount(): muta percentage
          
          Tests sugeridos:
          \`\`\`js
          expect(() => divide(10,0)).toThrow()
          \`\`\`" >> review.md
      - uses: actions/github-script@v7
        with:
          github-token: ${{ secrets.GITHUB_TOKEN }}
          script: |
            await github.rest.issues.createComment({
              issue_number: context.issue.number,
              owner: context.repo.owner,
              repo: context.repo.repo,
              body: fs.readFileSync('review.md', 'utf8')
            })
